/- # 浮動小数点数 Float -/

/- ## 誤差について  -/

def x := 665857.0

def y := 470832.0

-- ちゃんと 0 になる
-- 64ビット浮動小数点数として計算すると誤差が出るはずだが？？
-- Python の float も同じ結果になる
#eval x ^ 4 - 4 * y ^ 2 - 4 * y ^ 4

-- 直観に反する挙動だが仕様通り
-- これは、Lean の内部では２進数の無限小数として表現されているので
-- 丸め誤差が生じるため
#guard (0.6 - 0.4) != 0.2

/- ## inf と NaN -/

-- 0 除算を行うと inf が返ってくる
#eval 1.0 / 0.0

-- 0/0 は NaN になる
#eval 0.0 / 0.0

-- NaN という項があるわけではない？
#check_failure (NaN : Float)

-- 10^308 を超えたあたりで inf になってしまう
#eval 10.0 ^ 308
#eval 10.0 ^ 309
